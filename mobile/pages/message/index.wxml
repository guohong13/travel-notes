<t-navbar title="消息" left-arrow bind:go-back="onBackToHome" />
<view class="message-page">
  <t-tabs value="{{activeTab}}" bind:change="onTabChange">
    <t-tab-panel label="全部" value="all">
      <view class="section">
        <block wx:for="{{listAll}}" wx:key="_k">
          <view class="msg-item {{item.unread ? 'unread' : ''}}" data-key="{{item._k}}" data-note-id="{{item.noteId}}" data-type="{{item.type}}" bindtap="onMessageTap">
            <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
            <view class="content">
              <view class="title">{{item.title}}</view>
              <view class="desc">{{item.desc}}</view>
              <view class="meta">
                <text class="time">{{item.time}}</text>
              </view>
            </view>
            <view class="extra">
              <view class="dot" wx:if="{{item.unread}}"></view>
              <t-icon name="chevron-right" size="36rpx" color="#ccc" />
            </view>
          </view>
        </block>
        <view class="section empty" wx:if="{{listAll.length == 0}}">
          <text>暂无消息</text>
        </view>
      </view>
    </t-tab-panel>

    <t-tab-panel label="点赞" value="like">
      <view class="section">
        <block wx:for="{{listLike}}" wx:key="_k">
          <view class="msg-item {{item.unread ? 'unread' : ''}}" data-key="{{item._k}}" data-note-id="{{item.noteId}}" data-type="{{item.type}}" bindtap="onMessageTap">
            <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
            <view class="content">
              <view class="title">{{item.title}}</view>
              <view class="desc">{{item.desc}}</view>
              <view class="meta">
                <text class="time">{{item.time}}</text>
              </view>
            </view>
            <view class="extra">
              <view class="dot" wx:if="{{item.unread}}"></view>
              <t-icon name="chevron-right" size="36rpx" color="#ccc" />
            </view>
          </view>
        </block>
        <view class="section empty" wx:if="{{listLike.length == 0}}">
          <text>暂无点赞消息</text>
        </view>
      </view>
    </t-tab-panel>

    <t-tab-panel label="收藏" value="collect">
      <view class="section">
        <block wx:for="{{listCollect}}" wx:key="_k">
          <view class="msg-item {{item.unread ? 'unread' : ''}}" data-key="{{item._k}}" data-note-id="{{item.noteId}}" data-type="{{item.type}}" bindtap="onMessageTap">
            <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
            <view class="content">
              <view class="title">{{item.title}}</view>
              <view class="desc">{{item.desc}}</view>
              <view class="meta">
                <text class="time">{{item.time}}</text>
              </view>
            </view>
            <view class="extra">
              <view class="dot" wx:if="{{item.unread}}"></view>
              <t-icon name="chevron-right" size="36rpx" color="#ccc" />
            </view>
          </view>
        </block>
        <view class="section empty" wx:if="{{listCollect.length == 0}}">
          <text>暂无收藏消息</text>
        </view>
      </view>
    </t-tab-panel>

    <t-tab-panel label="评论" value="comment">
      <view class="section">
        <block wx:for="{{listComment}}" wx:key="_k">
          <view class="msg-item {{item.unread ? 'unread' : ''}}" data-key="{{item._k}}" data-note-id="{{item.noteId}}" data-type="{{item.type}}" bindtap="onMessageTap">
            <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
            <view class="content">
              <view class="title">{{item.title}}</view>
              <view class="desc">{{item.desc}}</view>
              <view class="meta">
                <text class="time">{{item.time}}</text>
              </view>
            </view>
            <view class="extra">
              <view class="dot" wx:if="{{item.unread}}"></view>
              <t-icon name="chevron-right" size="36rpx" color="#ccc" />
            </view>
          </view>
        </block>
        <view class="section empty" wx:if="{{listComment.length == 0}}">
          <text>暂无评论消息</text>
        </view>
      </view>
    </t-tab-panel>

    <t-tab-panel label="关注" value="follow">
      <view class="section">
        <block wx:for="{{listFollow}}" wx:key="_k">
          <view class="msg-item {{item.unread ? 'unread' : ''}}" data-key="{{item._k}}" data-note-id="{{item.noteId}}" data-type="{{item.type}}" bindtap="onMessageTap">
            <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
            <view class="content">
              <view class="title">{{item.title}}</view>
              <view class="desc">{{item.desc}}</view>
              <view class="meta">
                <text class="time">{{item.time}}</text>
              </view>
            </view>
            <view class="extra">
              <view class="dot" wx:if="{{item.unread}}"></view>
              <t-icon name="chevron-right" size="36rpx" color="#ccc" />
            </view>
          </view>
        </block>
        <view class="section empty" wx:if="{{listFollow.length == 0}}">
          <text>暂无关注消息</text>
        </view>
      </view>
    </t-tab-panel>

    <t-tab-panel label="系统" value="system">
      <view class="section">
        <block wx:for="{{listSystem}}" wx:key="_k">
          <view class="msg-item {{item.unread ? 'unread' : ''}}" data-key="{{item._k}}" data-note-id="{{item.noteId}}" data-type="{{item.type}}" bindtap="onMessageTap">
            <image class="avatar" src="{{item.avatar}}" mode="aspectFill"></image>
            <view class="content">
              <view class="title">{{item.title}}</view>
              <view class="desc">{{item.desc}}</view>
              <view class="meta">
                <text class="time">{{item.time}}</text>
              </view>
            </view>
            <view class="extra">
              <view class="dot" wx:if="{{item.unread}}"></view>
              <t-icon name="chevron-right" size="36rpx" color="#ccc" />
            </view>
          </view>
        </block>
        <view class="section empty" wx:if="{{listSystem.length == 0}}">
          <text>暂无系统消息</text>
        </view>
      </view>
    </t-tab-panel>
  </t-tabs>
</view>